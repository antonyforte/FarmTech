generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  name     String
  cpf      String @id @unique
  email    String @unique
  password String
  farms    Farm[]
}

model Farm {
  id         Int    @id @unique @default(autoincrement())
  proprietar String
  endereco   String
  tamanho    Int
  clima      String
  usercpf    String
  user       User   @relation(fields: [usercpf], references: [cpf])
  culture Culture[]
}

model Culture {
  id Int @id @unique @default(autoincrement())
  local String
  qtd Int
  farmid Int
  farm Farm @relation(fields: [farmid], references: [id], onDelete: Cascade )
  agriculture Agriculture?
}

model Agriculture {
  tipo Int @id @unique
  nome String
  valor_unid Float
  neces_clima String
  
  cultureid Int @unique
  culture Culture @relation(fields: [cultureid], references: [id])

  need Need[]

}

model Need {
  id Int @id @unique
  qtd Int

  agricultureid Int
  agriculture Agriculture @relation(fields: [agricultureid], references: [tipo])

  product Product?
}

model Product {
  id Int @id @unique
  nome String
  preco Float

  needid Int @unique
  need Need @relation(fields: [needid], references: [id])

}