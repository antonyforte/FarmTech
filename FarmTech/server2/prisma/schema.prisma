generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  name     String
  cpf      String @id @unique
  email    String @unique
  password String
  farms    Farm[]
}

model Farm {
  id         Int    @id @unique @default(autoincrement())
  proprietar String
  endereco   String
  tamanho    Int
  clima      String
  usercpf    String
  user       User   @relation(fields: [usercpf], references: [cpf])
  culture Culture[]
}

model Culture {
  id Int @id @unique @default(autoincrement())
  local String
  qtd Int
  farmid Int
  farm Farm @relation(fields: [farmid], references: [id], onDelete: Cascade )
<<<<<<< HEAD
  agriculture Agriculture?
=======
  agricultureid Int? @default(-1)
>>>>>>> d78c720ca548de73d8d5a8b4a4835278c3f98f3f
}

model Agriculture {
  tipo Int @id @unique @default(autoincrement())
  nome String
  valor_unid Float
  neces_clima String
  
  need Need[]

}

model Need {
  id Int @id @unique @default(autoincrement())
  qtd Int

  agricultureid Int
  agriculture Agriculture @relation(fields: [agricultureid], references: [tipo])

  productid Int
}

model Product {
  id Int @id @unique @default(autoincrement())
  nome String
  preco Float


}